<nav class="nav">
  <div class="nav__wrap">

    
    <a class="nav__logo" routerLink="/" (click)="isMenuOpen=false">
      <span class="nav__logoIcon">⚡</span>
      <span class="nav__logoText">LaGal Store</span>
    </a>

    
    <div class="nav__search nav__search--desktop">
      <span class="nav__searchIcon">🔍</span>
      <input class="nav__searchInput" type="text" placeholder="חפשו מוצרים, מותגים או קטגוריות..." />
    </div>

   
    <button class="nav__burger" type="button" (click)="isMenuOpen = !isMenuOpen" aria-label="פתח תפריט">
      <span class="burgerLine" [class.open]="isMenuOpen"></span>
      <span class="burgerLine" [class.open]="isMenuOpen"></span>
      <span class="burgerLine" [class.open]="isMenuOpen"></span>
      
    </button>

    
    <div class="nav__overlay" [class.show]="isMenuOpen" (click)="isMenuOpen=false"></div>

   
    <div class="nav__menu" [class.open]="isMenuOpen">

    
      <div class="nav__search nav__search--mobile">
        <span class="nav__searchIcon">🔍</span>
        <input class="nav__searchInput" type="text" placeholder="חפשו מוצרים, מותגים או קטגוריות..." />
      </div>

    
      <ul class="nav__links" (click)="isMenuOpen=false">
        <li>
          <a class="nav__link"
             routerLink="/"
             routerLinkActive="is-active"
             [routerLinkActiveOptions]="{ exact: true }">
            <span class="nav__icon">🏠</span>
            <span>בית</span>
          </a>
        </li>

        <li>
          <a class="nav__link" routerLink="/aboutus" routerLinkActive="is-active">
            <span class="nav__icon">ℹ️</span>
            <span>אודות</span>
          </a>
        </li>

        <li>
          <a class="nav__link" routerLink="/catalog" routerLinkActive="is-active">
            <span class="nav__icon">📦</span>
            <span>קטלוג</span>
          </a>
        </li>

        <li>
          <a class="nav__link" routerLink="/cart" routerLinkActive="is-active">
            <span class="nav__icon">🛒</span>
            <span>עגלה</span>
            <span class="nav__badge" *ngIf="cartItemsCount > 0">{{ cartItemsCount }}</span>
          </a>
        </li>

        <li *ngIf="isAdmin">
          <a class="nav__link" routerLink="/manage-products" routerLinkActive="is-active">
            <span class="nav__icon">🛠️</span>
            <span>ניהול מוצרים</span>
          </a>
        </li>
      </ul>

      
      <div class="nav__user">

        
        <div class="nav__auth" *ngIf="!isLoggedIn">
          <button class="nav__btn" type="button" routerLink="/profile/register" (click)="isMenuOpen=false">
            <span class="nav__btnIcon">📝</span>
            <span>הרשמה</span>
          </button>
          <button class="nav__btn" type="button" routerLink="/profile" (click)="isMenuOpen=false">
            <span class="nav__btnIcon">🔐</span>
            <span>התחברות</span>
          </button>
        </div>

       
        <div class="nav__profile" *ngIf="isLoggedIn">
          <button class="nav__profileBtn" type="button" (click)="toggleProfileMenu()">
            <img class="nav__avatar" [src]="userImage ? userImage : defaultAvatar()" alt="avatar" />
            <span class="nav__name">{{ userName }}</span>
            <span class="nav__chev">▾</span>
          </button>

          <div class="nav__drop" *ngIf="isProfileMenuOpen">
            <button class="nav__dropItem" type="button" (click)="goUserDetails(); isMenuOpen=false;">
              <span class="nav__dropIcon">📄</span>
              <span>פרטים אישיים</span>
            </button>

            <button class="nav__dropItem nav__dropItem--danger" type="button" (click)="onLogout()">
              <span class="nav__dropIcon">🚪</span>
              <span>התנתקות</span>
            </button>
          </div>
        </div>

      </div>
    </div>

  </div>
</nav>

